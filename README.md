# 七天速通 Phaser.js 游戏开发

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D18.0-brightgreen)](https://nodejs.org/)
[![Phaser Version](https://img.shields.io/badge/phaser-3.90%2B-blue)](https://phaser.io/)
[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)](#)

> 一份为 **前端开发者** 和 **零基础游戏爱好者** 设计的快速入门小册
>
> 7 天带你完成从 0 到 1 的游戏开发体验，并制作属于你的第一款 Web 卷轴滚动游戏

---

## 📚 小册简介

在 AI 大行其道的今天，游戏开发依然是充满创意和成就感的领域。
这本小册将带你用 **Phaser.js**（一款流行的 HTML5 游戏引擎）完成你的第一款 Web 游戏。
我们不追求在一周内学会所有知识，而是让你在 7 天内走完整个 **从构想到可玩的成品** 的流程。

### 适合人群

- 想入门 HTML5 游戏开发的前端工程师
- 想用业余时间做小游戏副业变现的开发者
- 想为个人作品集增加互动项目的设计师/学生
- 对 AI + 游戏结合感兴趣的创作者

### 项目特色

- **渐进式学习**：每天一个核心概念，循序渐进构建完整游戏
- **实战导向**：理论与实践结合，每天都有可运行的代码产出
- **多平台支持**：支持在线阅读、PDF下载、邮件课程等多种学习方式
- **完整工具链**：从开发环境到部署发布的完整开发流程
- **现代化技术栈**：使用最新的 Phaser.js 3.90+ 和现代前端工具

---

## 📅 学习计划

### 🗓️ 7天学习路径

| Day | 主题 | 核心内容 | 学习产出 | 预计时间 |
| --- | ---- | -------- | -------- | -------- |
| **Day 1** | **Phaser.js基础** | 游戏循环、Scene系统、基本渲染 | 第一个可运行的游戏场景 | 2-3小时 |
| **Day 2** | **精灵与动画** | 精灵加载、动画系统、用户输入 | 可控制的角色精灵 | 2-3小时 |
| **Day 3** | **地图与物理** | Tilemap系统、物理引擎、碰撞检测 | 带地形碰撞的游戏世界 | 3-4小时 |
| **Day 4** | **摄像机系统** | 摄像机跟随、场景滚动、视口管理 | 卷轴滚动的游戏场景 | 2-3小时 |
| **Day 5** | **敌人与AI** | 敌人系统、AI行为、游戏逻辑 | 带敌人交互的完整游戏 | 3-4小时 |
| **Day 6** | **音效与UI** | 音频系统、用户界面、状态管理 | 完整的游戏体验 | 2-3小时 |
| **Day 7** | **部署优化** | 性能优化、构建部署、发布上线 | 可对外分享的完成作品 | 2-3小时 |

### 📋 学习方式建议

- **每日学习**：建议每天投入2-4小时，连续7天完成
- **周末集中**：也可以选择周末两天集中学习完成
- **弹性安排**：根据个人时间灵活调整，重点是保持连续性

### 🎯 学习检查点

每天学习结束后，确保你能够：
- ✅ 理解当天的核心概念
- ✅ 成功运行提供的代码示例  
- ✅ 完成当天的实践练习
- ✅ 将新功能集成到累积项目中

> 📎 **附录**：
>
> - 开发环境搭建（Node.js、VS Code、Git）
> - 常用资源制作工具推荐（图片、音频、精灵图生成等）

---

## 🎯 学习成果

完成小册后，你将获得：

### 💻 技术技能
- **Phaser.js 核心开发流程**：从项目初始化到游戏发布的完整流程
- **游戏开发基础**：场景管理、精灵系统、物理引擎、碰撞检测
- **用户体验设计**：UI界面、音效系统、用户交互、状态管理
- **性能优化**：资源管理、代码优化、移动端适配
- **部署发布**：构建打包、在线部署、版本管理

### 🎮 实战项目
- **完整的卷轴滚动游戏**：包含角色控制、关卡设计、敌人AI、音效UI
- **可展示的作品集**：可在简历和作品集中展示的实际项目
- **可扩展的代码基础**：结构清晰、易于扩展的游戏框架

### 🚀 进阶能力
- **独立开发能力**：具备独立开发小型Web游戏的能力
- **技术栈扩展**：为学习其他游戏引擎和框架打下基础
- **创意实现能力**：将游戏创意转化为可玩产品的实践经验

---

## 📥 获取方式

### 🌐 在线学习
- **GitHub 仓库**：[https://github.com/phaser-tutorial-handbook](https://github.com/phaser-tutorial-handbook)
- **在线阅读**：直接在 GitHub 上阅读各章节内容，支持代码高亮和复制
- **实时预览**：每个章节都提供可运行的代码示例

### 📄 离线学习
- **PDF 下载**：[点击下载完整PDF版本](#) *(即将提供)*
- **打印友好**：优化的排版格式，适合打印阅读

### 📧 邮件训练营
- **7天学习计划**：[立即报名](#) *(即将开放)*
- **每日推送**：每天早上8点发送当日学习内容
- **进度跟踪**：自动记录学习进度，提供个性化建议
- **社群支持**：加入学习群，与其他学员交流讨论

### 🎮 互动体验
- **在线演示**：[体验最终游戏效果](#) *(即将提供)*
- **代码沙盒**：在线编辑和运行代码，无需本地环境

---

## 🛠️ 开发环境

### 必需工具
- **Node.js** ≥ 18.0 - [下载安装](https://nodejs.org/)
- **pnpm** ≥ 8.0 - 推荐的包管理器 `npm install -g pnpm`
- **现代浏览器** - Chrome / Edge / Firefox 最新版本

### 推荐工具
- **VS Code** - [下载安装](https://code.visualstudio.com/)
- **Git** - 版本控制工具
- **Chrome DevTools** - 调试和性能分析

### 核心依赖
- **Phaser.js** 3.90+ - HTML5游戏引擎
- **Vite** 7.0+ - 现代化构建工具
- **ES6+** - 现代JavaScript语法

## 🚀 快速开始

### 1. 克隆项目
```bash
git clone https://github.com/your-repo/phaser-tutorial-handbook.git
cd phaser-tutorial-handbook
```

### 2. 初始化项目配置
```bash
# 初始化所有教程项目的配置
node project-template/setup-project.js

# 或者初始化特定项目
node project-template/setup-project.js 1_starter
```

### 3. 开始学习
```bash
# 进入第一天的项目
cd 1_starter/source

# 安装依赖
pnpm install

# 启动开发服务器
pnpm dev
```

### 4. 浏览器访问
打开 http://localhost:3000 开始你的游戏开发之旅！

---

## 📖 使用说明

### 项目结构

```
phaser-tutorial-handbook/
├── 1_starter/                  # Day 1: Phaser.js基础
│   ├── README.md              # 详细教程内容
│   └── source/                # 可运行的代码示例
├── 2_sprite/                  # Day 2: 精灵与动画
├── 3_tilemap/                 # Day 3: 地图与物理系统
├── 4_camera/                  # Day 4: 摄像机与场景滚动
├── 5_enemy/                   # Day 5: 敌人与碰撞检测
├── 6_audio_ui_status/         # Day 6: 音效、UI与状态管理
├── 7_deploy_review/           # Day 7: 游戏部署与优化
├── for_frontend_beginner/     # 开发环境搭建指南
├── recommend_resource/        # 资源推荐和工具指南
├── online-reader/             # 在线阅读系统
├── pdf-generator/             # PDF生成系统
├── email-course/              # 邮件课程系统
├── testing/                   # 测试和质量保证
└── project-template/          # 项目模板和配置
```

### 学习路径

#### 方式一：按天学习（推荐）
```bash
# Day 1: 基础概念
cd 1_starter && code README.md
cd source && pnpm install && pnpm dev

# Day 2: 精灵系统
cd ../2_sprite && code README.md
cd source && pnpm install && pnpm dev

# ... 依此类推
```

#### 方式二：在线学习
```bash
# 启动在线阅读系统
cd online-reader
pnpm install
pnpm dev
# 访问 http://localhost:3000
```

#### 方式三：PDF学习
```bash
# 生成PDF文档
cd pdf-generator
pnpm install
node src/cli.js --all
# PDF文件将生成在 dist/ 目录
```

#### 方式四：邮件课程
```bash
# 启动邮件课程服务
cd email-course
pnpm install
pnpm start
# 访问 http://localhost:3001 订阅课程
```

### 环境要求

#### 系统要求
- **操作系统**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **内存**: 最少 4GB RAM，推荐 8GB+
- **存储**: 至少 2GB 可用空间
- **网络**: 稳定的互联网连接（用于下载依赖）

#### 软件要求
- **Node.js**: 18.0+ (推荐使用 LTS 版本)
- **包管理器**: pnpm 8.0+ (推荐) 或 npm 9.0+
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **代码编辑器**: VS Code (推荐) 或其他现代编辑器

#### 可选工具
- **Git**: 版本控制和项目克隆
- **Chrome DevTools**: 调试和性能分析
- **Figma/Photoshop**: 游戏素材制作
- **Audacity**: 音频编辑

### 常用命令

#### 项目管理
```bash
# 检查环境配置
node for_frontend_beginner/scripts/check-environment.js

# 快速启动项目
node for_frontend_beginner/scripts/quick-start.js

# 生成新项目模板
node project-template/setup-project.js [project-name]
```

#### 开发调试
```bash
# 启动开发服务器
pnpm dev

# 构建生产版本
pnpm build

# 预览构建结果
pnpm preview

# 运行测试
pnpm test

# 性能测试
pnpm test:performance
```

#### 内容生成
```bash
# 生成所有PDF文档
cd pdf-generator && node src/cli.js --all

# 生成特定章节PDF
cd pdf-generator && node src/cli.js --chapter 1

# 启动在线阅读器
cd online-reader && pnpm dev

# 启动邮件课程服务
cd email-course && pnpm start
```

#### 测试验证
```bash
# 运行内容验证测试
cd testing && pnpm test

# 运行浏览器兼容性测试
cd testing && pnpm test:browser

# 运行性能测试
cd testing && pnpm test:performance

# 生成测试报告
cd testing && pnpm test:report
```

---

## 🔧 API 文档

### 核心游戏类

#### GameScene 类
游戏主场景类，继承自 Phaser.Scene

```javascript
class GameScene extends Phaser.Scene {
    constructor() {
        super({ key: 'GameScene' });
    }
    
    preload() {
        // 资源预加载
        this.load.image('player', 'assets/player.png');
        this.load.spritesheet('playerAnim', 'assets/player-anim.png', {
            frameWidth: 32,
            frameHeight: 32
        });
    }
    
    create() {
        // 场景创建和初始化
        this.player = this.physics.add.sprite(100, 450, 'player');
        this.player.setBounce(0.2);
        this.player.setCollideWorldBounds(true);
    }
    
    update() {
        // 游戏循环更新
        this.handleInput();
        this.updateGameLogic();
    }
}
```

#### Player 类
玩家角色类，继承自 Phaser.Physics.Arcade.Sprite

```javascript
class Player extends Phaser.Physics.Arcade.Sprite {
    constructor(scene, x, y) {
        super(scene, x, y, 'player');
        
        // 添加到场景
        scene.add.existing(this);
        scene.physics.add.existing(this);
        
        // 配置物理属性
        this.setBounce(0.2);
        this.setCollideWorldBounds(true);
        
        // 初始化状态
        this.health = 100;
        this.speed = 160;
        this.jumpPower = 330;
    }
    
    update() {
        this.handleMovement();
        this.updateAnimation();
    }
    
    handleMovement() {
        const cursors = this.scene.cursors;
        
        if (cursors.left.isDown) {
            this.setVelocityX(-this.speed);
            this.anims.play('left', true);
        } else if (cursors.right.isDown) {
            this.setVelocityX(this.speed);
            this.anims.play('right', true);
        } else {
            this.setVelocityX(0);
            this.anims.play('turn');
        }
        
        if (cursors.up.isDown && this.body.touching.down) {
            this.setVelocityY(-this.jumpPower);
        }
    }
}
```

#### Enemy 类
敌人基类，包含AI行为系统

```javascript
class Enemy extends Phaser.Physics.Arcade.Sprite {
    constructor(scene, x, y, texture) {
        super(scene, x, y, texture);
        
        scene.add.existing(this);
        scene.physics.add.existing(this);
        
        // AI状态机
        this.stateMachine = new StateMachine(this);
        this.visionSystem = new VisionSystem(this);
        this.hearingSystem = new HearingSystem(this);
        
        // 基础属性
        this.health = 50;
        this.speed = 80;
        this.attackDamage = 10;
        this.detectionRange = 150;
    }
    
    update() {
        this.stateMachine.update();
        this.visionSystem.update();
        this.hearingSystem.update();
    }
    
    takeDamage(amount) {
        this.health -= amount;
        if (this.health <= 0) {
            this.destroy();
        }
    }
}
```

### 工具类和系统

#### CameraController 类
摄像机控制系统

```javascript
class CameraController {
    constructor(scene, target) {
        this.scene = scene;
        this.camera = scene.cameras.main;
        this.target = target;
        
        // 配置摄像机
        this.camera.setBounds(0, 0, scene.worldWidth, scene.worldHeight);
        this.camera.startFollow(target);
        this.camera.setLerp(0.1, 0.1);
    }
    
    setFollowTarget(target) {
        this.target = target;
        this.camera.startFollow(target);
    }
    
    shake(duration = 100, intensity = 0.01) {
        this.camera.shake(duration, intensity);
    }
    
    flash(duration = 250, red = 255, green = 255, blue = 255) {
        this.camera.flash(duration, red, green, blue);
    }
}
```

#### AudioManager 类
音频管理系统

```javascript
class AudioManager {
    constructor(scene) {
        this.scene = scene;
        this.sounds = new Map();
        this.music = null;
        this.sfxVolume = 0.7;
        this.musicVolume = 0.5;
    }
    
    preloadAudio() {
        this.scene.load.audio('bgm', 'assets/audio/background.mp3');
        this.scene.load.audio('jump', 'assets/audio/jump.wav');
        this.scene.load.audio('collect', 'assets/audio/collect.wav');
    }
    
    playMusic(key, loop = true) {
        if (this.music) {
            this.music.stop();
        }
        this.music = this.scene.sound.add(key, {
            volume: this.musicVolume,
            loop: loop
        });
        this.music.play();
    }
    
    playSFX(key, volume = this.sfxVolume) {
        const sound = this.scene.sound.add(key, { volume });
        sound.play();
        return sound;
    }
}
```

#### PerformanceMonitor 类
性能监控系统

```javascript
class PerformanceMonitor {
    constructor(scene) {
        this.scene = scene;
        this.stats = {
            fps: 0,
            memory: 0,
            drawCalls: 0,
            activeObjects: 0
        };
        this.isEnabled = false;
    }
    
    enable() {
        this.isEnabled = true;
        this.createDebugDisplay();
    }
    
    update() {
        if (!this.isEnabled) return;
        
        this.stats.fps = this.scene.game.loop.actualFps;
        this.stats.memory = performance.memory ? 
            Math.round(performance.memory.usedJSHeapSize / 1048576) : 0;
        this.stats.activeObjects = this.scene.children.length;
        
        this.updateDebugDisplay();
    }
    
    createDebugDisplay() {
        this.debugText = this.scene.add.text(10, 10, '', {
            fontSize: '14px',
            fill: '#00ff00',
            backgroundColor: '#000000',
            padding: { x: 5, y: 5 }
        });
        this.debugText.setScrollFactor(0);
        this.debugText.setDepth(1000);
    }
}
```

### 配置选项

#### 游戏配置
```javascript
const gameConfig = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    parent: 'game-container',
    backgroundColor: '#2c3e50',
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 300 },
            debug: false
        }
    },
    scene: [MenuScene, GameScene, PauseScene],
    scale: {
        mode: Phaser.Scale.FIT,
        autoCenter: Phaser.Scale.CENTER_BOTH,
        min: {
            width: 400,
            height: 300
        },
        max: {
            width: 1600,
            height: 1200
        }
    }
};
```

#### 构建配置 (vite.config.js)
```javascript
import { defineConfig } from 'vite';

export default defineConfig({
    base: './',
    build: {
        outDir: 'dist',
        assetsDir: 'assets',
        rollupOptions: {
            output: {
                manualChunks: {
                    phaser: ['phaser']
                }
            }
        }
    },
    server: {
        port: 3000,
        open: true
    }
});
```

### 事件系统

#### 自定义事件
```javascript
// 发射事件
this.events.emit('player-died', { score: this.score });

// 监听事件
this.events.on('player-died', (data) => {
    console.log('Game Over! Score:', data.score);
    this.scene.start('GameOverScene', data);
});

// 全局事件总线
class EventBus extends Phaser.Events.EventEmitter {
    constructor() {
        super();
    }
}

const eventBus = new EventBus();
```

### 最佳实践

#### 资源管理
```javascript
// 预加载资源
preload() {
    // 显示加载进度
    this.load.on('progress', (value) => {
        console.log('Loading:', Math.round(value * 100) + '%');
    });
    
    // 批量加载资源
    this.load.setPath('assets/');
    this.load.image('background', 'bg.png');
    this.load.atlas('sprites', 'sprites.png', 'sprites.json');
}

// 资源清理
destroy() {
    // 清理纹理缓存
    this.textures.remove('temp-texture');
    
    // 停止音频
    this.sound.stopAll();
    
    super.destroy();
}
```

#### 性能优化
```javascript
// 对象池
class ObjectPool {
    constructor(scene, classType, initialSize = 10) {
        this.scene = scene;
        this.classType = classType;
        this.pool = [];
        
        // 预创建对象
        for (let i = 0; i < initialSize; i++) {
            const obj = new classType(scene, 0, 0);
            obj.setActive(false);
            obj.setVisible(false);
            this.pool.push(obj);
        }
    }
    
    get() {
        for (let obj of this.pool) {
            if (!obj.active) {
                return obj.setActive(true).setVisible(true);
            }
        }
        
        // 池中无可用对象，创建新对象
        return new this.classType(this.scene, 0, 0);
    }
    
    release(obj) {
        obj.setActive(false).setVisible(false);
    }
}

---

## 🤝 贡献者

感谢所有为本项目做出贡献的开发者！

### 核心团队
- **[@author](https://github.com/author)** - 项目创建者和维护者
- **[@maintainer](https://github.com/maintainer)** - 核心维护者

### 功能贡献者
- **[@contributor1](https://github.com/contributor1)** - 在线阅读系统开发
- **[@contributor2](https://github.com/contributor2)** - PDF生成功能实现
- **[@contributor3](https://github.com/contributor3)** - 邮件课程系统开发
- **[@contributor4](https://github.com/contributor4)** - 测试系统构建

### 文档贡献者
- **[@doc-contributor1](https://github.com/doc-contributor1)** - 教程内容优化
- **[@doc-contributor2](https://github.com/doc-contributor2)** - API文档完善
- **[@doc-contributor3](https://github.com/doc-contributor3)** - 翻译和本地化

### 社区贡献者
- **[@community1](https://github.com/community1)** - Bug报告和测试
- **[@community2](https://github.com/community2)** - 用户体验改进建议
- **[@community3](https://github.com/community3)** - 性能优化建议

[查看完整贡献者列表](https://github.com/your-repo/phaser-tutorial-handbook/graphs/contributors)

想要成为贡献者？请查看我们的 [贡献指南](CONTRIBUTING.md)！

## 📊 项目统计

- **⭐ Stars**: ![GitHub stars](https://img.shields.io/github/stars/your-repo/phaser-tutorial-handbook)
- **🍴 Forks**: ![GitHub forks](https://img.shields.io/github/forks/your-repo/phaser-tutorial-handbook)
- **🐛 Issues**: ![GitHub issues](https://img.shields.io/github/issues/your-repo/phaser-tutorial-handbook)
- **📝 Pull Requests**: ![GitHub pull requests](https://img.shields.io/github/issues-pr/your-repo/phaser-tutorial-handbook)
- **📦 Downloads**: ![GitHub all releases](https://img.shields.io/github/downloads/your-repo/phaser-tutorial-handbook/total)

## 📄 许可证

本项目基于 [MIT License](LICENSE) 许可证开源。

### 使用条款
- ✅ 商业使用
- ✅ 修改和分发
- ✅ 私人使用
- ✅ 专利使用

### 限制条件
- ❌ 责任免除
- ❌ 保证免除

### 要求
- 📋 包含许可证和版权声明
- 📋 说明变更内容

详细信息请查看 [LICENSE](LICENSE) 文件。

## 📚 相关文档

- **[贡献指南](CONTRIBUTING.md)** - 如何为项目做贡献
- **[开发者文档](DEVELOPERS.md)** - 技术实现和开发指南
- **[更新日志](CHANGELOG.md)** - 版本更新记录
- **[常见问题](FAQ.md)** - 常见问题解答
- **[API文档](docs/API.md)** - 详细的API说明

## 🔗 相关链接

### 官方资源
- **[项目主页](https://your-project-site.com)** - 项目官方网站
- **[在线演示](https://demo.your-project-site.com)** - 在线体验游戏
- **[文档中心](https://docs.your-project-site.com)** - 完整文档

### 社区资源
- **[GitHub Discussions](https://github.com/your-repo/phaser-tutorial-handbook/discussions)** - 社区讨论
- **[Discord 服务器](https://discord.gg/your-server)** - 实时交流
- **[QQ 群](https://qm.qq.com/your-group)** - 中文交流群

### 学习资源
- **[Phaser.js 官网](https://phaser.io/)** - 官方文档和示例
- **[MDN 游戏开发](https://developer.mozilla.org/zh-CN/docs/Games)** - Web游戏开发指南
- **[HTML5 Game Devs](https://html5gamedevs.com/)** - 游戏开发社区

## 💬 联系我们

### 项目维护者
- **邮箱**: [maintainer@example.com](mailto:maintainer@example.com)
- **GitHub**: [@maintainer](https://github.com/maintainer)
- **Twitter**: [@maintainer](https://twitter.com/maintainer)

### 商务合作
- **邮箱**: [business@example.com](mailto:business@example.com)
- **微信**: your-wechat-id

### 技术支持
- **GitHub Issues**: [提交问题](https://github.com/your-repo/phaser-tutorial-handbook/issues)
- **邮箱**: [support@example.com](mailto:support@example.com)

---

<div align="center">

**⭐ 如果这个项目对你有帮助，请给我们一个 Star！⭐**

**🚀 关注我们获取更多游戏开发教程和资源！🚀**

Made with ❤️ by the Phaser Tutorial Handbook Team

</div>
