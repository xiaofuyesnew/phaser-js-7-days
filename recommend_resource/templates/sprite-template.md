# 精灵图制作模板和规范

## 精灵图制作规范

### 基础规范

#### 1. 尺寸规范
```
- 角色精灵: 32x32, 64x64, 128x128 像素
- UI元素: 16x16, 32x32, 48x48 像素  
- 背景瓦片: 32x32, 64x64 像素
- 特效精灵: 根据需要，建议不超过256x256
```

#### 2. 文件命名规范
```
格式: [类型]_[名称]_[状态]_[帧数].png

示例:
- player_idle_01.png (玩家待机第1帧)
- enemy_walk_03.png (敌人行走第3帧)
- ui_button_normal.png (UI按钮正常状态)
- bg_tile_grass.png (背景草地瓦片)
```

#### 3. 颜色规范
```
- 使用一致的调色板
- 限制颜色数量 (像素艺术建议16-64色)
- 保持足够的对比度
- 考虑色盲友好的配色
```

### 动画制作规范

#### 1. 帧率设置
```
- 待机动画: 2-4帧，慢速播放
- 行走动画: 4-8帧，中等速度
- 攻击动画: 3-6帧，快速播放
- 死亡动画: 4-8帧，播放一次
```

#### 2. 动画循环
```
- 循环动画: 确保首尾帧能够平滑连接
- 单次动画: 最后一帧保持稳定状态
- 过渡动画: 考虑与其他动画的衔接
```

#### 3. 动画时序
```javascript
// Phaser.js 动画配置示例
const animConfig = {
    key: 'player_walk',
    frames: this.anims.generateFrameNumbers('player', { 
        start: 0, 
        end: 7 
    }),
    frameRate: 10,
    repeat: -1  // 无限循环
};
```

## 精灵图制作模板

### 角色精灵模板 (32x32)

```
创建步骤:
1. 新建32x32像素画布
2. 设置网格辅助线 (8x8像素)
3. 使用有限调色板 (建议16色以内)
4. 保持角色在画布中央
5. 预留透明边缘用于动画

推荐图层结构:
- 阴影层 (最底层)
- 身体主体层
- 装备/服装层
- 面部表情层
- 特效层 (最顶层)
```

### UI元素模板

```
按钮模板 (48x16):
- 正常状态: 基础颜色
- 悬停状态: 稍微变亮
- 按下状态: 稍微变暗
- 禁用状态: 灰度处理

图标模板 (16x16):
- 使用简洁的符号
- 保持高对比度
- 避免过于复杂的细节
```

### 瓦片地图模板

```
地形瓦片 (32x32):
- 草地、石头、水面等基础地形
- 边缘瓦片用于平滑过渡
- 装饰瓦片增加视觉丰富度

平台瓦片:
- 顶部、中间、底部分别制作
- 左右边缘瓦片
- 角落瓦片用于转角
```

## 精灵图打包配置

### TexturePacker 配置模板

```json
{
    "textureName": "game_sprites",
    "textureFormat": "png",
    "dataFormat": "json",
    "algorithm": "MaxRects",
    "maxSize": {
        "width": 2048,
        "height": 2048
    },
    "padding": 2,
    "extrude": 1,
    "trim": true,
    "rotate": true,
    "powerOfTwo": true,
    "multipack": false
}
```

### Phaser.js 加载配置

```javascript
// 预加载精灵图集
preload() {
    this.load.atlas(
        'game_sprites',
        'assets/sprites/game_sprites.png',
        'assets/sprites/game_sprites.json'
    );
}

// 创建精灵
create() {
    const player = this.add.sprite(400, 300, 'game_sprites', 'player_idle_01');
    
    // 创建动画
    this.anims.create({
        key: 'player_idle',
        frames: this.anims.generateFrameNames('game_sprites', {
            prefix: 'player_idle_',
            suffix: '.png',
            start: 1,
            end: 4,
            zeroPad: 2
        }),
        frameRate: 8,
        repeat: -1
    });
    
    player.play('player_idle');
}
```

## 质量检查清单

### 制作完成后检查

#### 视觉质量
- [ ] 像素对齐正确
- [ ] 颜色一致性良好
- [ ] 透明区域处理正确
- [ ] 动画播放流畅

#### 技术规范
- [ ] 文件尺寸符合规范
- [ ] 命名规范正确
- [ ] 文件格式正确 (PNG)
- [ ] 透明度设置正确

#### 游戏集成
- [ ] 在游戏中显示正常
- [ ] 动画播放正确
- [ ] 性能表现良好
- [ ] 多分辨率适配

## 常见问题解决

### 问题1: 精灵在游戏中显示模糊
```
解决方案:
1. 确保使用像素完美渲染
2. 检查Phaser.js的抗锯齿设置
3. 使用整数坐标定位精灵
4. 设置合适的缩放模式
```

### 问题2: 动画播放不流畅
```
解决方案:
1. 检查帧率设置是否合适
2. 确保动画帧数足够
3. 优化动画过渡
4. 检查性能瓶颈
```

### 问题3: 精灵图集过大
```
解决方案:
1. 移除不必要的透明区域
2. 使用更高效的打包算法
3. 分割为多个图集
4. 压缩图片质量
```

## 工作流程建议

### 1. 规划阶段
```
1. 确定美术风格
2. 制作调色板
3. 设计角色概念图
4. 规划动画列表
```

### 2. 制作阶段
```
1. 制作静态精灵
2. 创建动画帧
3. 测试动画效果
4. 优化和调整
```

### 3. 集成阶段
```
1. 打包精灵图集
2. 配置游戏加载
3. 测试游戏表现
4. 性能优化
```

### 4. 维护阶段
```
1. 版本控制管理
2. 资源备份
3. 文档更新
4. 持续优化
```