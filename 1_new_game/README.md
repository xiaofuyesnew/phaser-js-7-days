# ç¬¬ 1 å¤©ï¼šæ¸¸æˆå·¥ç¨‹åˆ›å»ºä¸åŸºç¡€è®¾ç½®

> å¦‚æœä½ å¯¹æœ¬ç« èŠ‚ä¸­çš„ä¸€äº›æè¿°å’Œæ“ä½œæ„Ÿåˆ°é™Œç”Ÿï¼Œè¯·å…ˆå‚è€ƒ[é™„å½•ï¼šå‰ç«¯å¼€å‘åŸºç¡€ç¯å¢ƒæ­å»º](../for_frontend_beginner/README.md)
>
> æœ¬æ•™ç¨‹æ’°å†™æ—¶ï¼ŒPhaser.js æœ€æ–°ç‰ˆæœ¬ä¸º 3.90.0ã€‚

Phaser.js æ˜¯ä¸€ä¸ªå¼€æºçš„ JavaScript æ¸¸æˆæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œå·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿåˆ›å»ºè·¨å¹³å°çš„æ¸¸æˆã€‚

## ğŸ¯ ç« èŠ‚ç›®æ ‡

- [ ] åˆ›å»º Phaser 3 é¡¹ç›®åŸºç¡€ç»“æ„
- [ ] ç¼–å†™åŸºç¡€é…ç½®å¹¶åˆ›å»º Game å®ä¾‹
- [ ] ç†è§£åœºæ™¯åŠåœºæ™¯çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼špreloadã€createã€update
- [ ] è¿è¡Œæ¸¸æˆï¼Œå¹¶å°è¯•åœ¨å¼€å‘ç¯å¢ƒä¸­æ›´æ”¹ä»£ç 

## ğŸ¹ ç« èŠ‚å†…å®¹

é¦–å…ˆï¼Œæ‰“å¼€å‘½ä»¤è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ `vite` åœ¨æœ¬é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªæœ€åŸºæœ¬çš„ Javascript å‰ç«¯é¡¹ç›®ã€‚

```bash
pnpm create vite@latest my_phaser_game --template vanilla
```

æ¥ç€ï¼Œä¸ºé¡¹ç›®æ·»åŠ  Phaser.js ä¾èµ–ã€‚

```bash
pnpm add phaser
```

ç„¶åï¼Œæˆ‘ä»¬å°†é¡¹ç›®ä¸­çš„ä»£ç æ–‡ä»¶æ•´ç†ä¸€ä¸‹ï¼Œè®©é¡¹ç›®æ–‡ä»¶ç»“æ„æ›´ç¬¦åˆæˆ‘ä»¬å¼€å‘çš„éœ€æ±‚ï¼š

```bash
example
 |- public
 |   |- javascript.svg
 |   |- vite.svg
 |- src
 |   |- main.js
 |   |- style.css
 |- .gitignore
 |- index.html
 |- package.json
```

å…¶ä¸­æœ€æ ¸å¿ƒçš„å°±æ˜¯ `src/main.js` æ–‡ä»¶ï¼Œå®ƒæ˜¯æ•´ä¸ªæ¸¸æˆé€»è¾‘çš„æ ¸å¿ƒï¼Œç°åœ¨ï¼Œæˆ‘ä»¬ç¼–è¾‘å®ƒï¼š

```javascript
import './style.css'
import { AUTO, Game, Scene } from 'phaser'

// å®šä¹‰ä¸€ä¸ªåœºæ™¯ç±»ï¼Œç»§æ‰¿è‡ª Phaser.Scene
class MyScene extends Scene {
  constructor() {
    super('MyScene')
    // æ‘„åƒæœºç§»åŠ¨æ–¹å‘
    this.direction = 1
  }

  // åœºæ™¯é¢„åŠ è½½ï¼šé¢„åŠ è½½å¦‚å›¾ç‰‡ã€éŸ³è§†é¢‘çš„æ¸¸æˆèµ„æº
  preload() {
    // åŠ è½½ä¸€ä¸ªå›¾ç‰‡èµ„æºï¼Œé”®åä¸º 'vite'ï¼Œè·¯å¾„ä¸º '/vite.svg'
    this.load.image('vite', '/vite.svg')
  }

  // åœºæ™¯åˆ›å»ºï¼šåˆ›å»ºæ¸¸æˆåœºæ™¯ï¼Œå¦‚èƒŒæ™¯ã€è§’è‰²ã€æ•Œäººã€é“å…·ç­‰
  create() {
    // å°† 'vite' å›¾ç‰‡èµ„æºæ·»åŠ åˆ°åœºæ™¯ä¸­ï¼Œä½ç½®ä¸º (400, 300)
    this.add.image(400, 300, 'vite').setOrigin(0.5, 0.5)
  }

  // åœºæ™¯æ›´æ–°ï¼šæ¸¸æˆå¾ªç¯æ‰§è¡Œï¼Œå¦‚è§’è‰²ç§»åŠ¨ã€æ•Œäººæ”»å‡»ã€é“å…·æ”¶é›†ç­‰
  update() {
    // æ‘„åƒæœºæ°´å¹³ç§»åŠ¨ï¼Œå½“åˆ°è¾¾ 100 è¾¹ç•Œæ—¶åå‘
    if (Math.abs(this.cameras.main.scrollX) === 100) {
      this.direction *= -1
    }
    this.cameras.main.scrollX += this.direction
  }
}

// å®ä¾‹åŒ–æ¸¸æˆ
new Game({
  type: AUTO,  // é€‰æ‹©æ¸²æŸ“æ¨¡å¼ï¼ŒAUTO è‡ªåŠ¨é€‰æ‹©ï¼ŒWEBGL å¼ºåˆ¶ä½¿ç”¨ WebGLï¼ŒCANVAS å¼ºåˆ¶ä½¿ç”¨ Canvas
  width: 800,  // æ¸¸æˆå®½åº¦ï¼Œå•ä½åƒç´ 
  height: 600,  // æ¸¸æˆé«˜åº¦ï¼Œå•ä½åƒç´ 
  parent: 'game',  // æ¸¸æˆå®¹å™¨çš„ DOM å…ƒç´  id
  // å•åœºæ™¯ï¼šåªåŒ…å«ä¸€ä¸ªåœºæ™¯
  scene: [MyScene]
})
```
